{"version":3,"file":"static/js/604.ee4c8532.chunk.js","mappings":"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","sources":["webpack://social-networks/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.js","webpack://social-networks/./src/components/Users/User.module.css?05eb","components/Users/User.js","webpack://social-networks/./src/components/Users/Users.module.css?b9d0","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__seLvV\",\"pageNumber\":\"Paginator_pageNumber__JdxCk\",\"selected_page\":\"Paginator_selected_page__Suogy\"};","import style from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\tconst pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\tconst pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\r\n\tconst [portionNumber, setPortionNumber] = useState(1);\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tconst rightPortionPageNumber = portionNumber + portionSize;\r\n\r\n\treturn (\r\n\t\t<div className={style.paginator}>\r\n\t\t\t{portionNumber > 1 &&\r\n\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber - 1)\r\n\t\t\t\t}}>Prev</button>}\r\n\r\n\t\t\t{pages\r\n\t\t\t\t.filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n\t\t\t\t.map((page) => {\r\n\t\t\t\t\treturn <span\r\n\t\t\t\t\t\tkey={page}\r\n\t\t\t\t\t\tclassName={currentPage === page ? style.selected_page : style.pageNumber }\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tonPageChanged(page)\r\n\t\t\t\t\t\t}}>{page}</span>\r\n\t\t\t\t})}\r\n\t\t\t{portionCount > portionNumber &&\r\n\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber + 1)\r\n\t\t\t\t}}>Next</button>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Paginator;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"usersPhoto_img\":\"User_usersPhoto_img__ENKak\"};","import style from \"./User.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, unsubscribe, subscribe, followingInProgress}) => {\r\n\r\n\treturn (<div>\r\n\t\t\t<span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={`/profile/${user.id}`}>\r\n\t\t\t\t\t\t<input type={'image'} className={style.usersPhoto_img}\r\n\t\t\t\t\t\t\t src={user.photos.small ? user.photos.small : userPhoto}\r\n\t\t\t\t\t\t\t alt={`Photo ${user.name}`}/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t{user.followed ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n\t\t\t\t\t\tunsubscribe(user.id)\r\n\t\t\t\t\t}}>Unfollow</button> :\r\n\t\t\t\t\t<button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n\t\t\t\t\t\tsubscribe(user.id)\r\n\t\t\t\t\t}}>Follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t<span>\r\n\t\t\t\t\t<div>{user.name}</div>\r\n\t\t\t\t\t<div>{user.status}</div>\r\n\t\t\t\t\t</span>\r\n\t\t<span>\r\n\t\t\t\t\t<div>{'user.location.country'}</div>\r\n\t\t\t\t\t<div>{'user.location.city'}</div>\r\n\t\t\t\t\t</span>\r\n\t</div>)\r\n}\r\n\r\nexport default User;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"users_item\":\"Users_users_item__AKZSi\",\"current_page\":\"Users_current_page__QWsI6\",\"current_page__items\":\"Users_current_page__items__Cv82o\"};","import Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nimport style from \"./Users.module.css\";\r\n\r\nconst Users = ({\r\n\t\t\t\t   currentPage,\r\n\t\t\t\t   onPageChanged,\r\n\t\t\t\t   totalUsersCount,\r\n\t\t\t\t   pageSize,\r\n\t\t\t\t   users,\r\n\t\t\t\t   unsubscribe,\r\n\t\t\t\t   subscribe,\r\n\t\t\t\t   followingInProgress\r\n\t\t\t   }) => {\r\n\r\n\treturn (<div className={style.current_page}>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Paginator currentPage={currentPage}\r\n\t\t\t\t\t\t   onPageChanged={onPageChanged}\r\n\t\t\t\t\t\t   totalItemsCount={totalUsersCount}\r\n\t\t\t\t\t\t   pageSize={pageSize}/>\r\n\t\t\t\t{users.map(user => <User\r\n\t\t\t\t\tuser={user}\r\n\t\t\t\t\tunsubscribe={unsubscribe}\r\n\t\t\t\t\tsubscribe={subscribe}\r\n\t\t\t\t\tfollowingInProgress={followingInProgress}\r\n\t\t\t\t\tkey={user.id}/>)}\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Users;\r\n\r\n","export const getAllUsers =(state)=>{\r\n\treturn state.usersPage.users\r\n}\r\n\r\nexport const getPageSize =(state)=>{\r\n\treturn state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount =(state)=>{\r\n\treturn state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage =(state)=>{\r\n\treturn state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching =(state)=>{\r\n\treturn state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress =(state)=>{\r\n\treturn state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getIsAuth =(state)=>{\r\n\treturn state.auth.isAuth\r\n}\r\n","import {connect} from 'react-redux';\r\nimport React, {Component} from 'react';\r\nimport Users from \"./Users\";\r\nimport {\r\n\tfollow,\r\n\tgetUsers,\r\n\tsetCurrentPage,\r\n\tsubscribe,\r\n\ttoggleFollowingProgress,\r\n\tunfollow,\r\n\tunsubscribe\r\n} from '../../redux/users-reducer';\r\nimport Spinner from \"../common/Spinner/Spinner\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n\tgetAllUsers,\r\n\tgetCurrentPage,\r\n\tgetFollowingInProgress,\r\n\tgetIsAuth,\r\n\tgetIsFetching,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {currentPage, pageSize, getUsers} = this.props;\r\n\t\tgetUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {setCurrentPage, getUsers, pageSize} = this.props;\r\n\t\tsetCurrentPage(pageNumber);\r\n\t\tgetUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Spinner/> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t   pageSize={this.props.pageSize}\r\n\t\t\t\t   currentPage={this.props.currentPage}\r\n\t\t\t\t   onPageChanged={this.onPageChanged}\r\n\t\t\t\t   users={this.props.users}\r\n\t\t\t\t   follow={this.props.follow}\r\n\t\t\t\t   unfollow={this.props.unfollow}\r\n\t\t\t\t   isFetching={this.isFetching}\r\n\t\t\t\t   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n\t\t\t\t   followingInProgress={this.props.followingInProgress}\r\n\t\t\t\t   subscribe={this.props.subscribe}\r\n\t\t\t\t   unsubscribe={this.props.unsubscribe}\r\n\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getAllUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state),\r\n\t\tisAuth: getIsAuth(state)\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tfollow,\r\n\t\tunfollow,\r\n\t\tsetCurrentPage,\r\n\t\ttoggleFollowingProgress,\r\n\t\tgetUsers,\r\n\t\tsubscribe,\r\n\t\tunsubscribe\r\n\t}),\r\n\twithAuthRedirect\r\n)\r\n(UsersContainer)\r\n\r\n","import React, {Component} from \"react\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) {\r\n\t\t\t\treturn <Navigate to={'/login'}/>\r\n\t\t\t}\r\n\t\t\treturn <Component {...this.props}/>\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n\treturn ConnectedRedirectComponent;\r\n}"],"names":["totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","onClick","filter","page","map","user","unsubscribe","subscribe","followingInProgress","to","id","type","src","photos","small","userPhoto","alt","name","followed","disabled","some","status","totalUsersCount","users","getAllUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","isAuth","UsersContainer","pageNumber","props","setCurrentPage","getUsers","this","Spinner","follow","unfollow","toggleFollowingProgress","Component","compose","connect","withAuthRedirect","mapStateToPropsForRedirect","RedirectComponent","React"],"sourceRoot":""}